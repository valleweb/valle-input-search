<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="bower_components/valle-input/valle-input.html">

<dom-module id="valle-input-search">
  <template>

    <style>
      :host {
        --curva-borda: 8px;
        display: inline-block;
        height: 3.5rem;
        position: relative;
        width: 100%;
      }

      .search-input {
        border: 1px solid #e8e8e8;
        border-radius: var(--curva-borda, 8px);
        box-shadow: 2px 5px 10px -3px rgba(0,0,0,0.35);
        font-size: 16px;
        position: absolute;
        left: 0;
        text-indent: 42px;
        top: 0;
        height: 100%;
        width: 80%;
        -webkit-box-shadow: 2px 5px 10px -3px rgba(0,0,0,0.35);
        -moz-box-shadow: 2px 5px 10px -3px rgba(0,0,0,0.35);
      }

      .search-icon {
        position: absolute;
        top: 1.2em;
        left: 1em;
        z-index: 2;
      }
    </style>

    <valle-input
      type="search"
      tabindex="-1"
      aria-labelledby="label"
      placeholder="Pesquisar"
      id="searchInput"
      class="search-input">
    </valle-input>

    <svg
      width="24"
      height="24"
      class="search-icon"
      viewBox="0 0 24 24"
      fill="#909090">
      <title> Icone de Pesquisa </title>
      <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
    </svg>
    <slot></slot>
  </template>

  <script>
    class valleInputSearch extends Polymer.Element {
      ready() {
        super.ready();
        const inputSearch = this.$.searchInput.shadowRoot.getElementById('input');

        inputSearch.style.borderBottom = "none";
        inputSearch.style.backgroundColor = "transparent";
        inputSearch.style.color = "#909090";
        inputSearch.style.fontSize = "16px";
        inputSearch.style.position = "absolute";
        inputSearch.style.left = "42px";
        inputSearch.style.top = "-18px";
      }

      static get is() { return 'valle-input-search'; }

      static get properties() {
        return {
          type: {
            type: String,
            value: 'search'
          }
        };
      }

    }

    window.customElements.define(valleInputSearch.is, valleInputSearch);
  </script>
</dom-module>
